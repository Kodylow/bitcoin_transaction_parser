mod tx_structs;

use crate::tx_structs::bitcoin_tx::BitcoinTX;
use std::io::stdin;
fn main() {
    // let mut tx_string = String::new();

    // println!("Paste a raw bitoin transaction in hex to parse: \n");

    // stdin()
    //     .read_line(&mut tx_string)
    //     .ok()
    //     .expect("Failed to read line");

    // tx_string = tx_string.replace("\n", "");

    //let tx_string = "0100000001adf3a67f80132446bb7ef9b7e34bb4c9e18ca19dee0602fdc045dfcf35395e12000000006a47304402201b058a6a825066d18db851b732eb0cafe0835acdf32b583356b7f1211c9a472902207f5cf61f708c730dce77d8e2a392c47a88c5b0989b57a95dc0a719b4f160f1bb012103f1820c071e5289f293a7fbea58fc0abefb1340f0811f3d71d7f5fd627a3ac4d9feffffff026b5f6308000000001976a9148a273afa69c4eae98a6ba9af08ec24ee6ea9d32d88acc005d9010000000017a9143130913658056d961c7d73b0ce32e1f2ab565ea887751a0600".to_string();

    //segwit
    //let tx_string = "0200000000010158c965434fab08c85275d884a244a80ec16240d1253eb0e778b37849b69ebab80000000017160014b44d6db9725f13ba0ffcd4b838e41a21804155deffffffff024cff1c00000000001976a91468967e6a5f130646da63795e04250b5769a19aea88ac1b0709150000000017a914d12db04bd57c156b708bc52d46fcd13a1676807c87024730440220394667f6f2e3141433c23fe1720e55c610ffab5f690192084b26fb41b16dd1310220691e5617e8e7b76735e642febe289e469fad0b47072cb11760b1fe6ae71ad48501210273d79b6b59340e70e1f94ee33ead9771d4ad40ef8f4f83c4e43b8182a91fda1700000000".to_string();

    let tx_string = "010000000001072c62df87feee513f3c1b2595752f71277da29f0a77a9c79756934ec5d6512c6f0c000000171600145f138d3955e61ee248616aaef51855e6d99b4d72ffffffffc55395aaaf6ca41661c3b70b080febaa9b86f4ac4c393d711ee128b86614f3c1000000006a47304402201291d3fd0af840b60961c4d2b44ebdb3036a84314022054441b478d7c91e6d2d022063c4f668220f9adaf71c45f96c554c809d9eab8488b60801b189b051759f4f33012103cd7b5a57a3f482ae4924e3abf85741d31a04e7ade73baa9be8da57b6918c06b8ffffffff8b9d60282d625acfceaa870f034803cc98e86ff7a97a489a390cfc025b74c7bd0b000000171600145f138d3955e61ee248616aaef51855e6d99b4d72ffffffff6c81d76ab8147f8597058874e0c837abcf96190a17662a8c7846834a510ad04a03000000171600145f138d3955e61ee248616aaef51855e6d99b4d72ffffffffcd6fe57c031c69061169ba10d1061a980cfc7db2dbd00ba15b996fe0b99f7704000000006b483045022100da06c74619744ec2762872522689404305d4095d8e8991dacae319204fad53d902207a3a69629da639ca6c80f0ef432b61de4fae8fba190bb951b35617b52e50ce180121023eaaa0d1d37ba771cc3ccc9e81038a3c83408596321055584723794beb8373a1ffffffffa611203c7c2bca2acb6bca8dc2d11837d68c132cc6fc561df30d42448c29bb36010000006a4730440220602c92efe400cf9a4be53ee58349c32b2e095b5f06b024dfa214f7af93cd928102203710e1ca6ae264a625c16185c01559515f716d953e4f2bc9116c8e490b2ba31901210336452acb160b70c2d541a24917b767f457352341752915d9483780332113392affffffffd97af578fe962e42c3dc72d7672bfeba80325661497d1daf37b0bb74891af8bb010000006b4830450221008f8fe69088a3b6ed53990f21901f6bc95c8bd66751f6026c4cc5d7daf879e33f0220661a229dda92b35f9cb205f165af107b1747266c946de7327c4f668c6217e61c012102d3ad1b21439d15cb394ca1cb499cf57509f605bc85032fe3ea5529bdfcbf145bffffffff0145fb187b000000001976a9143c96b65f45b8c68ad96689ff2c5da19015a456c388ac02483045022100a3a49cbb4cbe563c15f2601f2af9f18974ef3f98f1dd2f94d225620075d2185a02203345d2cd73670ba45bb6add0fdedd24153e8e42e3e935e0ad6bf3abe92d8aba2012102e3cef82c97fb0e2d284053941abd8a331dd3d0196f32af7958f63dbd9ad017e90002483045022100965721c56d165446b004115c59d82048176fd3df64cd45274b99b8aca034809702203474edff7541c211475ce301f84866761ed00b4dd603b983a211273e1d3e70ef012102e3cef82c97fb0e2d284053941abd8a331dd3d0196f32af7958f63dbd9ad017e9024830450221008e28d9795a17d97ae5a0b563bd0d722c1e00541a1e49b95dec6385e76ade02c40220782b52ba852a8cc16582d6a0df08133d459088eb1b5eb4dcd4ee365e78d2f2ac012102e3cef82c97fb0e2d284053941abd8a331dd3d0196f32af7958f63dbd9ad017e900000000000000".to_string();
    let parsed_tx = BitcoinTX::new(tx_string);

    println!("\n{:?}\n", parsed_tx);
}
